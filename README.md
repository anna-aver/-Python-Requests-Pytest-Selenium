# Автотесты на API и WEB проекта \"Битва покемонов\"

## Описание и задачи проекта

Проект является обучающей игрой - тренажером.

Задача - автоматизировать часть проверок регресса с помощью Pytest,
Request и Selenium. Результаты обработать в Allure Report.

## Тест-кейсы, которые автоматизировали

### API:

Проверка работы HTTP-запросов


| **№** | **Тест-кейс**                               | **Ожидаемый ответ** |
|--------|---------------------------------------------|---------------------|
| 1      | Проверка статуса ответа на метод GET/pokemons (получение списка покемонов по ID тренера) | response status code = 200|
| 2      | Проверка части ответа на метод GET/pokemons (наличие поля name сзаданным значением в ответе) |в ответе в json приходит массив объектов data с корректным полем name|
| 3      | Проверить, что метод GET /pokemons возвращает ответ заданной структуры с помощью параметризации |в ответе в json приходит массив объектов data c  корректными полями name, trainer_id, id|
| 4      | Отправить покемона в нокаут POST/pokemons/knockout |response status code = 200|
| 5      | Создать покемона POST/pokemons |response status code = 201|
| 6      | Изменить имя и фотографию покемона PATCH/pokemons|response status code = 200|
| 7      |Получить ошибку 500 |response status code = 500|

### WEB:

Проверка работы авторизационной формы

| **№** | **Тест-кейс**                               | **Ожидаемый ответ** |
|--------|---------------------------------------------|---------------------|
| 1      | Позитивная проверка:<br> - Корректная почта<br> - Корректный пароль | Успешная авторизация, сравнение id тренера|
| 2      |Негативные проверки:|
|  2.1   | - Некорректная почта<br> - Корректный пароль |"Введите корректную почту"|
|  2.2   | - Корректная почта<br> - Некорректный пароль |"Неверные логин или пароль"|
|  2.3   | - Некорректная почта<br> - Некорректный пароль |"Введите корректную почту"|
|  2.4   | - Пустая почта<br> - Корректный пароль |"Введите почту"|
|  2.5   | - Корректная почта<br> - Пустой пароль |"Введите пароль"|

### Файл main.py:

Автоматизировано прохождение основного сценария тренажера: битва
покемонов.

***Детали реализации:***

1.  Предусловие: тренер авторизован, имеет несколько живых покемонов.

2.  Получить список своих живых покемонов

3.  Посчитать количество своих живых покемонов

4.  Если остался один живой покемон, создать еще четырех (максимально
    разрешенное количество живых покемонов -- 5)

5.  Получить список всех живых покемонов, пойманных в покебол

6.  Выбрать чужого покемона для битвы

7.  Поймать своего покемона в покебол

8.  Провести битву покемонов

9.  Проверить не исчерпан ли лимит битв за день (максимум 50 битв)

10. Если не исчерпан, вывести результат битвы:

    a.  твой покемон проиграл -- вывести информацию о завершении битвы

    b.  твой покемон победил -- отвязать покемона от покебола, вывести
        информацию о завершении битвы

11. Если лимит битв исчерпан -- вывести информацию об этом.

## Локальный запуск проекта (из терминала)
-	Скачать проект
-	Перейти через терминал в директорию проекта
-	Создать виртуальное окружение внутри папки проекта:
``` markdown
python –m venv env
``` 
-	Активировать окружение:
``` markdown
.\env\Scripts\activate
```
-	Установить необходимых библиотек:
``` markdown
pip install request pytest selenium allure-pytest
```
-	Подключить allure :
``` markdown
cd <путь до каталога\ allure-2.19.0\bin\
```
``` markdown
.\allure serve <путь до каталога с результатами>
```
-	Внести необходимые персональные данные в файле info/default_data.py
-	Запустить автотесты либо через мензурку, либо через терминал:
``` markdown
pytest tests/test_pokemon.py
```
-	Ожидаемый результат: получим отчет о прохождении тестов.

## Автор
Анна Чередникова ([@AnnaC](https://t.me/AnnaC))
